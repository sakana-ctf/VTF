<main>

  <div class="layer-box">
    <h1>排行榜</h1>
    <!--
      todo: 排行榜图表还没改好
    -->
    <canvas id="myChart"></canvas>
    <div class="layer">
      <table>
        <tr>
          <th>排名</th>
          <th>选手名称</th>
          <th>选手得分</th>
          @for challenge in challenge_name
          <th>${challenge.name}</th>
          @end
        </tr>
        <tbody>
          @for i in 0..10
          <tr>
            <td id="td${i}_rank"></td>
            <td id="td${i}_team_id"></td>
            <td id="td${i}_score"></td>
            @for j in 0..challenge_name.len
            <td id="td${i}_${j}"></td>
            @end
          </tr>
          @end
        </tbody>

      </table>
    </div>
    <div class="center">
      <ul id="page" class="pagination">
        <li id="set_page"><a class="" onclick="alert(1);" href="#">«</a></li>
      </ul>
    </div>
  </div>

  <style>
    .layer-box {
      background: var(--bg-card-color);
      width: 70%;
      max-width: 1200px;
      position: absolute;
      top: 15%;
      left: 0;
      right: 0;
      margin: auto;
      border-radius: 10px;
      border-width: 10px;
    }

    .layer-box h1 {
      top: 10px;
      text-align: center;
      position: relative;
      color: var(--text-botton-white);
      font-size: 24px;
      font-weight: 600;
      letter-spacing: 5px;
      margin-bottom: 30px;
      cursor: pointer;
    }

    body {
      padding: 100px;
      box-sizing: border-box;
    }

    table {
      border-collapse: collapse;
    }

    td,
    th {
      text-align: center;
      color: var(--text-botton-white);
      font-size: 14px;
      border-right: 1px solid var(--bg-card-color);
      line-height: 30px;
      box-sizing: border-box;
      white-space: nowrap;
      /*overflow: hidden; 隐藏超出容器的内容 */
      /*text-overflow: ellipsis; 使用省略号表示被截断的文本 */
      background: var(--bg-background-color);
    }

    .layer-box .layer {
      overflow: hidden;
      overflow-x: scroll;
      /*text-align: center;*/
    }

    /* 选页标 */
    table tr:nth-child(odd) td,
    table tr:nth-child(odd) th {
      background: var(--bg-oxford-blue-2);
    }

    .td-1 {
      position: absolute;
      left: 0;
      z-index: 2;
      width: 150px;
      background: var(--bg-page-now);
    }

    .zhanwei {
      width: 149px;
    }

    /* 分页符 */

    ul.pagination {
      display: inline-block;
      margin: 0;
    }

    ul.pagination li {
      display: inline;
    }

    ul.pagination li a {
      color: var(--text-botton-white);
      float: left;
      padding: 7px 10px;
      text-decoration: none;
    }

    ul.pagination li a.active {
      background-color: var(--bg-page-now);
      color: var(--text-page-now);
    }

    ul.pagination li a:hover:not(.active) {
      background-color: var(--bg-page-color);
    }

    ul.pagination li a {
      border-radius: 5px;
    }

    ul.pagination li a.active {
      border-radius: 5px;
    }

    div.center {
      text-align: center;
    }
  </style>

  <script>
    // 获取图表容器
    var canvas = document.getElementById('myChart')
    ranking_line(canvas);

    Rankapi(1);
  </script>
</main>